@(map: Map[String, String],id:String,timeList: List[String],dateList: List[String])
@Main("Graphic Environment") {
 <link rel="stylesheet" media="screen" href="@routes.Assets.at("stylesheets/examples.css")">

<script src="@routes.Assets.at("javascripts/amcharts.js")" type="text/javascript"></script>
<script src="@routes.Assets.at("javascripts/serial.js")" type="text/javascript"></script>

<nav id="css" class="navbar navbar-default">
  <div class="container-fluid">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="@routes.Application.viewEnv(id)">Environment</a> 
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">
        <!-- <li><a href="#" data-toggle="modal" data-target="#editEnvironmet">Edit Environment <span class="sr-only">(current)</span></a></li> -->

       <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Areas <span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li role="presentation">
              <a href="@routes.Application.viewAreas(id)" data-toggle="modal">
                 View Areas
              </a>
            </li>
            <!-- <li><a href="@routes.Application.AddArea(id)">Add Area</a></li>  -->
          </ul>
        </li>

      </ul>

      <ul class="nav navbar-nav navbar-right">

        <li><a href="@routes.Application.welcome()"><i class="fa fa-home"></i>Profile</a></li> 
        <li><a href="@routes.Application.index()">Log out</a></li>
             
      </ul>
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>

<div class="row">
<div class="col-md-offset-1 col-md-10">



<table id= "myTable" style="width:100%">
<tr  class="val">
    <th>value</th>
    @for((c,w)<- map){
    <td>@c</td>
     }
</tr>
<tr class="timp">
    <th>time</th>
    @for(k <- timeList){
        <td> @k</td> 
     }
</tr>
<tr class="data">
    <th>date</th> 
    @for(q <- dateList){ 
    <td>@q </td>
    }
 </tr>
  
</table>

<div id="chartdiv"></div> 
<style type="text/css">
  

body {
  font-family: Lato;
}

table {
  border: 2px solid #ccc;
  border-collapse: collapse;
}

table td {
  border: 1px solid #eee;
  padding: 5px;
}

#chartdiv {
    width       : 100%;
    height      : 300px;
    font-size   : 11px;
}           
</style>

<script type="text/javascript">
 var chart;

var chartData = [];

AmCharts.ready(function() {
  // first we generate some random data
  generateChartData();

  // SERIAL CHART
  chart = new AmCharts.AmSerialChart();
  chart.pathToImages = "http://www.amcharts.com/lib/3/images/";
  chart.dataProvider = chartData;
  chart.categoryField = "date";
  
  // we're going to need this to correctly parse date/time from strings
  chart.dataDateFormat = "YYYY-MM-DD HH:NN:SS";

  // AXES
  // Category
  var categoryAxis = chart.categoryAxis;
  categoryAxis.parseDates = true; // in order char to understand dates, we should set parseDates to true
  categoryAxis.minPeriod = "mm"; // as we have data with minute interval, we have to set "mm" here.            
  categoryAxis.gridAlpha = 0.07;
  categoryAxis.axisColor = "#DADADA";

  // Value
  var valueAxis = new AmCharts.ValueAxis();
  valueAxis.gridAlpha = 0.07;
  valueAxis.title = "Things Chart";
  chart.addValueAxis(valueAxis);

  // GRAPH
  var graph = new AmCharts.AmGraph();
  graph.type = "line"; // try to change it to "column"
  graph.title = "red line";
  graph.valueField = "visits";
  graph.lineAlpha = 1;
  graph.lineColor = "#d1cf2a";
  graph.fillAlphas = 0.3; // setting fillAlphas to > 0 value makes it area graph
  chart.addGraph(graph);

  // CURSOR
  var chartCursor = new AmCharts.ChartCursor();
  chartCursor.cursorPosition = "mouse";
  chartCursor.categoryBalloonDateFormat = "JJ:NN:SS, YYYY-MM-DD";
  chart.addChartCursor(chartCursor);

  // SCROLLBAR
  var chartScrollbar = new AmCharts.ChartScrollbar();

  chart.addChartScrollbar(chartScrollbar);

  // WRITE
  chart.write("chartdiv");
});

// generate some random data, quite different range 
function generateChartData() {
  
  // initialize empty array
  chartData = [];
  
  // get the table
  var table = document.getElementById( 'myTable' );
  
  // get table rows
  var rows = table.getElementsByTagName( 'tr' );
  
  // iterate through the <td> elements of the first row
  // and construct chart data out of other rows as well
  var values = rows[ 0 ].getElementsByTagName( 'td' );
  var times = rows[ 1 ].getElementsByTagName( 'td' );
  var dates = rows[ 2 ].getElementsByTagName( 'td' );
  for ( var x = 0; x < values.length; x++ ) {
    chartData.push( {
      "visits": values[ x ].innerHTML,
      "date": dates[ x ].innerHTML + " " + times[ x ].innerHTML
    } );
  }
}
</script>
</div><!--row-->

<!-- dhdhdhddd -->

<!-- real time graphic -->

<script src="http://code.highcharts.com/highcharts.js"></script>
<script src="http://code.highcharts.com/modules/exporting.js"></script>
<div class="row">
<div class="col-md-offset-1 col-md-10">
<div id="container" style="min-width: 310px; height: 400px; margin: 0 auto"></div>
<br><br><br><br>
</div>
</div>

<script type="text/javascript">
    $(function () {
    $(document).ready(function () {
        Highcharts.setOptions({
            global: {
                useUTC: false
            }
        });

        $('#container').highcharts({
            chart: {
                type: 'spline',
                animation: Highcharts.svg, // don't animate in old IE
                marginRight: 10,
                events: {
                    load: function () {

                        // set up the updating of the chart each second
                        var series = this.series[0];
                        setInterval(function () {
                            var x = (new Date()).getTime(), // current time
                                y = Math.random();
                            series.addPoint([x, y], true, true);
                        }, 1000);
                    }
                }
            },
            title: {
                text: 'Environment Thing'
            },
            xAxis: {
                type: 'datetime',
                tickPixelInterval: 150
            },
            yAxis: {
                title: {
                    text: 'Thing'
                },
                plotLines: [{
                    value: 26,
                    width: 28,
                    color: '#808080'
                }]
            },
            tooltip: {
                formatter: function () {
                    return '<b>' + this.series.name + '</b><br/>' +
                        Highcharts.dateFormat('%Y-%m-%d %H:%M:%S', this.x) + '<br/>' +
                        Highcharts.numberFormat(this.y, 26);
                }
            },
            legend: {
                enabled: false
            },
            exporting: {
                enabled: false
            },
            series: [{
                name: 'Random data',
                data: (function () {
                    // generate an array of random data
                    var data = [],
                        time = (new Date()).getTime(),
                        i;

                    for (i = -19; i <= 0; i += 1) {
                        data.push({
                            x: time + i * 1000,
                            y: Math.random()
                        });
                    }
                    return data;
                }())
            }]
        });
    });
});
</script>


}